<md-dialog aria-label='建立書籤'>
    <md-toolbar>
    <div class="md-toolbar-tools">
        <h2>建立書籤</h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="bookmarkVM.cancel()">
            <md-icon class="material-icons">close</md-icon>
        </md-button>
    </div>
    </md-toolbar>
    <md-dialog-content>
        <!-- XXX: This margin top is to make space for the floating label of Angular Material 's input-->
        <div style='margin-top:25px;'>
        <form name='bookmarkForm'>
            <md-input-container class='md-block'>
                <label>書籤名</label>
                <input name='title' ng-model='bookmarkVM.title' required>
                <div ng-messages='bookmarkForm.title.$error'>
                    <div ng-message='required'>必須有書籤名</div>
                </div>
            </md-input-container>
            <md-input-container class='md-block'>
                <label>書籤描述</label>
                <input name='description' ng-model='bookmarkVM.description'>
            </md-input-container>
        </form>
        </div>
        <div style='margin:5px 5px;' md-whiteframe="3">
            <md-subheader class='md-primary'>將目前的檢視狀態建立為書籤</md-subheader>
            <div layout='row' layout-align='start center'>
                <img ng-src="{{bookmarkVM.channelLogo}}" class='s99-channel-logo'>
                <div class='s99-channel-title'>{{bookmarkVM.channelTitle}}</div>
            </div>
            <div>
                <div layout='row' layout-align='start center'>
                    <hr flex='10' style='display:inline-block;'>
                    <div style='color:blue;font-style:italic;font-size:16px;'>標題搜尋關鍵字</div>
                    <hr flex style='display:inline-block;'>
                </div>
                <md-chips ng-model='bookmarkVM.keywords' readonly='true'>
                </md-chips>
            </div>
            <div>
                <h3 class='md-title'>日期範圍</h3>
                <div layout='row' layout-align='start center'>
                    <div ng-show='bookmarkVM.period.presetID!="custom"'>{{bookmarkVM.period.title}}</div>
                    <div ng-show='bookmarkVM.period.presetID=="custom"'>
                        {{bookmarkVM.period.start | date:'yyyy/MM/dd'}} ～ {{bookmarkVM.period.end | date:'yyyy/MM/dd'}}                        
                    </div>
                </div>
            </div>
            <div>
                <h3>分類顯示</h3>
                <div layout='row' layout-padding layout-wrap>
                    <div ng-repeat="(key, category) in bookmarkVM.categories">
                        <img class='s99-category-icon'
                        ng-class='{"s99-transparent-image": bookmarkVM.categoryCtrls[key].show === false}'
                        ng-src='{{(category.icon && category.icon.url) || category.icon
                        || "https://maps.gstatic.com/mapfiles/api-3/images/spotlight-poi_hdpi.png"}}'>
                        <md-tooltip>{{(key == 'misc' && '其他') || category.title || key}}</md-tooltip>
                    </div>
                </div>
            </div>
        </div>
    </md-dialog-content>
    <md-dialog-actions layout='row'>
        <span flex></span>
        <md-button class='md-primary md-raised' ng-disabled="bookmarkForm.title.$invalid"
        ng-click="bookmarkVM.confirm()">
        確定
        </md-button>
    </md-dialog-actions>
</md-dialog>