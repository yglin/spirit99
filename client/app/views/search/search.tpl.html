<div ng-controller="SearchController as searchVM">
    <div style='margin: 20px 10px;'>
        <md-subheader class='md-primary'>使用關鍵字搜尋標題</md-subheader>
        <md-chips
        ng-model='searchVM.userCtrls.keywords'
        readonly='searchVM.chipsReadonly'
        placeholder='增加關鍵字'
        secondary-placeholder='輸入關鍵字'
        md-on-add='searchVM.onAddKeyword()'
        md-on-remove='searchVM.onRemoveKeyword()'>
        </md-chips>
        <md-divider></md-divider>
        <br>
        <md-subheader class='md-primary'>發佈日期</md-subheader>
        <div ng-show='searchVM.userCtrls.create_time.preset=="custom"'>
            <div layout='row'>
                <span>從...</span>
                <md-datepicker ng-model='searchVM.datePresets.custom.start'
                ng-change='searchVM.onChangeDatePeriod()'
                md-placeholder='開始日期'>
                </md-datepicker>
            </div>
            <div layout='row'>
                <span>到...</span>
                <md-datepicker ng-model='searchVM.datePresets.custom.end'
                ng-change='searchVM.onChangeDatePeriod()'
                md-placeholder='結束日期'>
                </md-datepicker>
            </div>
        </div>
        <md-select ng-model='searchVM.userCtrls.create_time.preset'
        ng-change='searchVM.onChangeDatePeriod()'
        aria-label='介於...'>
            <md-option ng-repeat='(key, datePreset) in searchVM.datePresets' value='{{key}}'>
            {{datePreset.title}}
            </md-option>
        </md-select>
        <br>
        <md-subheader class='md-primary'>分類顯示</md-subheader>
        <div layout='row' layout-padding layout-wrap>
            <div ng-repeat="(key, category) in searchVM.categories">
                <img class='s99-category-icon s99-click-no-outline'
                ng-class='{"s99-transparent-image": category.show === false}'
                ng-src='{{(category.icon && category.icon.url) || category.icon
                || "https://maps.gstatic.com/mapfiles/api-3/images/spotlight-poi_hdpi.png"}}'
                ng-click='searchVM.toggleCategoryShow(key)'>
                <md-tooltip>{{(key == 'misc' && '其他') || category.title || key}}</md-tooltip>
            </div>
<!--             <div>
                <img class='s99-category-icon'
                src="https://maps.gstatic.com/mapfiles/api-3/images/spotlight-poi_hdpi.png">
                <md-tooltip>其他</md-tooltip>                
            </div>
 -->        </div>
        <div layout='row' layout-align='space-between center'>
            <md-button class='md-raised' ng-click="searchVM.showAllCategories()">全部顯示</md-button>
            <md-button class='md-raised' ng-click="searchVM.hideAllCategories()">全部隱藏</md-button>
        </div>
    </div>
</div>